# Monitors and Workspace
# monitor=HDMI-A-1,3840x2160@60,0x0,1
monitor=eDP-1,2880x1800@120,0x0,1

workspace =1, defaultName:Óß©, monitor:eDP-1, persistent:true
workspace =2, defaultName:Ó§∂, monitor:eDP-1, persistent:true
workspace =3, defaultName:Ó•¨, monitor:eDP-1, persistent:true
workspace =4, defaultName:Ó•∑, monitor:eDP-1, persistent:true
workspace =5, defaultName:Ó•õ, monitor:eDP-1, persistent:true
workspace =6, defaultName:Ó¶¢, monitor:eDP-1, persistent:true

# Env
env = GDK_BACKEND,wayland,x11
env = XDG_CURRENT_DESKTOP,Hyprland
env = XDG_SESSION_TYPE,wayland
env = QT_QPA_PLATFORM,wayland;xcb
env = QT_QPA_PLATFORMTHEME,qt6ct
env = QT_SCREEN_SCALE_FACTOR,1;1

env = LC_ALL,zh_CN.UTF-8
env = LANG,zh_CN.UTF-8
env = LANGUAGE,zh_CN:en_US

# env = GTK_IM_MODULE,fcitx
env = QT_IM_MODULE,fcitx
env = XMODIFIERS,@im=fcitx
env = LIBSEAT_BACKEND,logind

# Exec command
exec-once = ~/.config/hypr/scripts/bgaction.sh
exec-once = /usr/bin/lxpolkit
exec-once = swayosd-server # Volume control osd
exec-once = swaync # Notification daemon
# exec-once = nm-applet
# exec-once = blueman-applet
# exec-once = pot
# exec-once = foot --server
# exec-once = waybar
exec-once = ~/.config/ags/script/bar.sh
exec-once = fcitx5 -d
exec-once = ~/.config/hypr/scripts/xdph.sh
# exec-once = hypridle
# exec-once = udiskie &
# exec-once = syncthing serve --no-browser --no-default-folder

# exec-once=[workspace 3 silent] foot /usr/bin/zellij attach -c Raven
# exec-once=[workspace 2 silent] foot -D "/home/Rav4n/Workspaces" /usr/bin/zellij -l full attach -c Full

# Some default env vars.
# env = QT_QPA_PLATFORMTHEME,qt5ct # change to qt6ct if you have that

# UI Configuring
# source = $HOME/.config/hypr/themes/catppuccin.conf
source = $HOME/.config/hypr/themes/everforest.conf

env = HYPRCURSOR_THEME,Future-dark-cursors
env = HYPRCURSOR_SIZE,24
env = XCURSOR_PATH,$HOME/.local/share/icons:/usr/share/icons:/usr/local/share/icons
env = XCURSOR_THEME,Future-dark-cursors
env = XCURSOR_SIZE,24

general {
  gaps_in = 4
  gaps_out = 4
  border_size = 2

  col.active_border = rgba($active_border)
  col.inactive_border = rgba($inactive_border)

  layout = dwindle # dwindle, master

  allow_tearing = false
  no_focus_fallback = true

  snap {
    enabled = true
    window_gap = 10
    monitor_gap = 10
    border_overlap = false
  }
}

decoration {
  rounding = 8

  active_opacity = 1.0
  inactive_opacity = 1.0
  fullscreen_opacity = 1.0

  dim_inactive = true
  dim_strength = 0.0
  dim_special = 0.5
  dim_around = 0.4
  
  blur {
    enabled = true
    size = 8
    passes = 1
    ignore_opacity = true
    new_optimizations = true
    xray = true
    vibrancy = 0.1696
    xray = true
    enabled = false
  }

  shadow {
    enabled = false
    range = 4
    render_power = 3
    sharp = false
    ignore_window = true
  }
}

animations {
  enabled = true
  first_launch_animation = true

  bezier = 1, 0.23, 1, 0.32, 1
  animation = windows, 1, 5, 1
  animation = windowsIn, 1, 5, 1, slide
  animation = windowsOut, 1, 5, 1, slide
  animation = border, 1, 5, default
  animation = borderangle, 1, 5, default
  animation = fade, 1, 5, default
  animation = workspaces, 1, 5, 1, slidefade 30%
}

# Input Stuff üëçÔ∏è
input {
  kb_model =
  kb_layout = us
  kb_variant = 
  kb_options =
  kb_rules =

  sensitivity = 0.0
  accel_profile = custom
  scroll_points = 0.2 0.0 0.5 1 1.2 1.5
  scroll_method = edge
  natural_scroll = false

  follow_mouse = 1
  follow_mouse_threshold = 10
  focus_on_close = 1
  mouse_refocus = true
  float_switch_override_focus = 2

  touchpad {
    disable_while_typing = true
    natural_scroll = false
    tap_button_map = lrm
    tap-to-click = true
    drag_lock = true
    tap-and-drag = true
  }
}

gestures {
  workspace_swipe = true
  workspace_swipe_fingers = 3
  workspace_swipe_min_fingers = true
  workspace_swipe_distance = 100
  workspace_swipe_touch = false
  workspace_swipe_invert = true
  workspace_swipe_min_speed_to_force = 0
  workspace_swipe_cancel_ratio = 0.7
  workspace_swipe_create_new = true
  workspace_swipe_direction_lock = false
  workspace_swipe_direction_lock_threshold = 10
  workspace_swipe_forever = true
}

group {
  auto_group = false
}

misc {
  disable_hyprland_logo = true
  force_default_wallpaper = 0 # Set to 0 to disable the anime mascot wallpapers
  vfr = true
  disable_autoreload = true
}



#Layout
dwindle {
    pseudotile = true
    force_split = 2
    preserve_split = true 
    # no_gaps_when_only = 1
}



xwayland {
    force_zero_scaling = true
}

# Misc

# Window Rules

# $Width = 1400
# $Height = 800
$BigWidth = 2600
$BigHeight = 1800
$NormalWidth = 1400
$NormalHeight = 800

# windowrulev2 = suppressevent maximize, class:.* # You'll probably like this.
# windowrulev2 = suppressevent fullscreen, class:.* # You'll probably like this.
# windowrulev2 = fullscreenstate 2 0, class:.* # You'll probably like this.
# windowrulev2 = opacity 0.95, class:.* # You'll probably like this.
windowrulev2 = opacity 1, fullscreen:1 # You'll probably like this.

# polkit-gnome-authentication-agent-1
windowrulev2 = stayfocused, class:^(polkit-gnome-authentication-agent-1)$

# floorp
windowrulev2 = maxsize $BigWidth $BigHeight, class:(floorp), floating:1
# windowrulev2 = opacity 1, class:(floorp), floating:1

# nemo
windowrulev2 = float, class:^(nemo)$
windowrulev2 = center, class:^(nemo)$

# blueman-manager
windowrulev2 = float, class:^(blueman-manager)$
windowrulev2 = center, class:^(blueman-manager)$

# System Monitor
windowrulev2 = float, title:^(Monitor)$
windowrulev2 = center, title:^(Monitor)$
windowrulev2 = size $NormalWidth $NormalHeight, title:^(Monitor)$

# pavucontrol
windowrulev2 = float, class:^(org.pulseaudio.pavucontrol)$
windowrulev2 = size 800 500, class:^(org.pulseaudio.pavucontrol)$

# Fcitx5
windowrulev2 = float, title:(Fcitx)

# Qt5ct setting
windowrulev2 = float, class:(qt5ct)
windowrulev2 = size $NormalWidth $NormalHeight, class:(qt5ct)
windowrulev2 = center, class:(qt5ct)

# Qt6ct setting
windowrulev2 = float, class:(qt6ct)
windowrulev2 = size $NormalWidth $NormalHeight, class:(qt6ct)
windowrulev2 = center, class:(qt6ct)

# Kvatum
windowrulev2 = float, class:(kvantummanager)
windowrulev2 = size $NormalWidth $NormalHeight, class:(kvantummanager)
windowrulev2 = center, class:(kvantummanager)

# Nwg-Look
windowrulev2 = float, class:(nwg-look)
windowrulev2 = size $NormalWidth $NormalHeight, class:(nwg-look)
windowrulev2 = center, class:(nwg-look)

# Network Manager
windowrulev2 = float, class:(nm-connection-editor)
windowrulev2 = size $NormalWidth $NormalHeight, class:(nm-connection-editor)
windowrulev2 = center, class:(nm-connection-editor)

# imv
windowrulev2 = float, class:(imv) # Translation window floating

# Mpv
windowrulev2 = float, class:(mpv) # Translation window floating
windowrulev2 = size $NormalWidth $NormalHeight, class:(mpv)
windowrulev2 = center, class:(mpv) # Translation window floating

# telegram
windowrulev2 = float, class:(telegram) # Translation window floating
windowrulev2 = float, class:(org.telegram.desktop) # Translation window floating
# windowrulev2 = workspace 6, class:(telegram)

# wechat
windowrulev2 = float, title:^(ÂæÆ‰ø°)$
windowrulev2 = center, title:^(ÂæÆ‰ø°)$
windowrulev2 = workspace 6, title:^(ÂæÆ‰ø°)$

# OBS
windowrulev2 = size $BigWidth $BigHeight, title:(OBS)
windowrulev2 = float, title:(OBS)
windowrulev2 = center, title:(OBS)
windowrulev2 = workspace 6, title:(OBS)

# Genymotion
windowrulev2 = float, initialClass:^(Genymotion Player)$
windowrulev2 = float, class:(Genymotion Player)
windowrulev2 = center, class:(Genymotion Player)
windowrulev2 = float, class:(Genymotion)
windowrulev2 = center, class:(Genymotion)

# VirtManager
windowrulev2 = float, title:(ËôöÊãüÁ≥ªÁªüÁÆ°ÁêÜÂô®)
windowrulev2 = center, title:(ËôöÊãüÁ≥ªÁªüÁÆ°ÁêÜÂô®)
windowrulev2 = size $NormalWidth $NormalHeight, title:(ËôöÊãüÁ≥ªÁªüÁÆ°ÁêÜÂô®)
# windowrulev2 = workspace 4, class:(virt-manager)

# Rustdesk
windowrulev2 = size $BigWidth $BigHeight, class:(rustdesk)
windowrulev2 = float, class:(rustdesk)
windowrulev2 = center, class:(rustdesk)

# Pot
windowrulev2 = float, class:(pot) # Translation window floating
windowrulev2 = move cursor 0 0, class:(pot), title:(Translate) # Translation window follows the mouse position.

# musicfox
windowrulev2 = size 800 500, title:^(musicfox)$
windowrulev2 = float, title:^(musicfox)$
windowrulev2 = center, title:^(musicfox)$
windowrulev2 = workspace 5, title:^(musicfox)$

# Android studio
windowrulev2 = opacity 0.9, class:(jetbrains-studio) # You'll probably like this.

# KeepassXC
windowrulev2 = size $NormalWidth $NormalHeight, title:^(web.*KeePassXC)$
windowrulev2 = float, class:(KeePassXC)
windowrulev2 = float, class:(org.keepassxc.KeePassXC)
windowrulev2 = center, class:(KeePassXC)
windowrulev2 = center, class:(org.keepassxc.KeePassXC)
windowrulev2 = size $NormalWidth $NormalHeight, class:(KeePassXC)
windowrulev2 = size $NormalWidth $NormalHeight, class:(org.keepassxc.KeePassXC)

# Yazi
windowrulev2 = size $NormalWidth $NormalHeight, title:(Yazi)
windowrulev2 = float, title:(Yazi)
windowrulev2 = center, title:(Yazi)

# Notes
windowrulev2 = size $NormalWidth $NormalHeight, title:(Notes)
windowrulev2 = float, title:(Notes)
windowrulev2 = center, title:(Notes)

# Steam
windowrulev2 = size $BigWidth $BigHeight, title:(Steam)
windowrulev2 = size $NormalWidth $NormalHeight, class:(steam)
windowrulev2 = float, class:(steam)
windowrulev2 = float, class:(Steam)
windowrulev2 = center, class:(steam)
windowrulev2 = center, class:(Steam)

# Keybinds
# Set programs that you use
$scrPath = ~/.config/hypr/scripts
# $run = tofi-drun --drun-launch=true
$run = ~/.config/ags/script/launcher.sh

# $terminal = footclient
# $WorkTerm = footclient -D "/home/Rav4n/Workspaces" /usr/bin/zellij -l full attach -c Full
# $terminal = footclient /usr/bin/zellij attach -c Raven
# $TerminalfileManager = footclient -T Yazi /usr/bin/yazi
# $Notes = footclient -T Notes -D "/home/Rav4n/Projectes/Note" /usr/bin/nvim index.norg

# $terminal = wezterm
# $fileManager = nemo

# $terminal = alacritty
# $TerminalfileManager = alacritty -T Yazi -e /usr/bin/yazi
# $Notes = alacritty -T Notes -o 'working_directory="/home/Rav4n/Projectes/Notes"' -e /usr/bin/nvim index.norg

$terminal = kitty
$TerminalfileManager = kitty -T Yazi /usr/bin/yazi
$Notes = kitty -T Notes -d "/home/Rav4n/Projectes/Note" /usr/bin/nvim index.norg

# $WayBar = ~/.config/waybar/launch.sh
$bar = ~/.config/ags/script/bar.sh

# See https://wiki.hyprland.org/Configuring/Keywords/ for more
$Mod = SUPER

# Rofi is toggled on/off if you repeat the key presses
# bind = $Mod, R, exec, pkill -x rofi || $scrPath/menu_launcher.sh # launch desktop applications
bind = $Mod, R, exec, $run
# bind = $Mod, tab, exec, pkill -x rofi || $scrPath/rofilaunch.sh w # switch between desktop applications
# bind = $Mod, D, exec, pkill -x rofi || $scrPath/rofilaunch.sh f # browse system files
bind = $Mod, T, exec, $scrPath/pot.sh # launch desktop applications

# Example binds, see https://wiki.hyprland.org/Configuring/Binds/ for more
bind = $Mod, RETURN, exec, $terminal
# bind = $Mod SHIFT, RETURN, exec, $WorkTerm
bind = $Mod SHIFT, C, exec, hyprctl reload
bind = $Mod, Q, killactive, 
bind = $Mod SHIFT, Q, exit, 
bind = $Mod, E, exec, $TerminalfileManager
# bind = $Mod SHIFT, E, exec, $fileManager
bind = $Mod, F, togglefloating, 
bind = $Mod SHIFT, F, fullscreenstate, 0 2
bind = $Mod, S, fullscreen, 
bind = $Mod, N, togglesplit, # dwindle
bind = $Mod, Escape, exec, $Notes
bind = $Mod, B, exec, $bar
bind = $Mod, I, exec, fcitx5-remote -r

# Move focus 
bind = $Mod, H, movefocus, l
bind = $Mod, L, movefocus, r
bind = $Mod, K, movefocus, u
bind = $Mod, J, movefocus, d
# Move window 
bind = $Mod, M, submap, move
bind = $Mod SHIFT, H, movewindow, l
bind = $Mod SHIFT, L, movewindow, r
bind = $Mod SHIFT, K, movewindow, u
bind = $Mod SHIFT, J, movewindow, d

# Resize active window 
bind = $Mod, C, submap, change
submap = change

binde = , H, resizeactive, -50 0
binde = , L, resizeactive, 50 0
binde = , K, resizeactive, 0 -50
binde = , J, resizeactive, 0 50

bind = , escape, submap, reset
submap = reset

# Move active float window 
bind = $Mod, M, submap, move
submap = move

binde = , H, moveactive, -100 0
binde = , L, moveactive, 100 0
binde = , K, moveactive, 0 -100
binde = , J, moveactive, 0 100
bind = , 1, movetoworkspace, 1
bind = , 1, submap, reset
bind = , 2, movetoworkspace, 2
bind = , 2, submap, reset
bind = , 3, movetoworkspace, 3
bind = , 3, submap, reset
bind = , 4, movetoworkspace, 4
bind = , 4, submap, reset
bind = , 5, movetoworkspace, 5
bind = , 5, submap, reset
bind = , 6, movetoworkspace, 6
bind = , 6, submap, reset

bind = , escape, submap, reset
submap = reset

# Switch workspaces with Mod + [0-9]
bind = $Mod, 1, workspace, 1
bind = $Mod, 2, workspace, 2
bind = $Mod, 3, workspace, 3
bind = $Mod, 4, workspace, 4
bind = $Mod, 5, workspace, 5
bind = $Mod, 6, workspace, 6

# Move active window to a workspace with Mod + SHIFT + [0-9]
bind = $Mod SHIFT, 1, movetoworkspace, 1
bind = $Mod SHIFT, 2, movetoworkspace, 2
bind = $Mod SHIFT, 3, movetoworkspace, 3
bind = $Mod SHIFT, 4, movetoworkspace, 4
bind = $Mod SHIFT, 5, movetoworkspace, 5
bind = $Mod SHIFT, 6, movetoworkspace, 6

# Example special workspace (scratchpad)
bind = $Mod, P, togglespecialworkspace, magic
bind = $Mod SHIFT, P, movetoworkspace, special:magic

# Scroll through existing workspaces with Mod + scroll
bind = $Mod, mouse_down, workspace, e+1
bind = $Mod, mouse_up, workspace, e-1

# Move/resize windows with Mod + LMB/RMB and dragging
# bindm = $Mod, mouse:272, movewindow
bindm = $Mod, Control_L, movewindow
bindm = $Mod, mouse:273, resizewindow

# Audio keymaps
# bind = ,XF86AudioLowerVolume, exec, pactl set-sink-volume @DEFAULT_SINK@ -5%
# bind = ,XF86AudioRaiseVolume, exec, pactl set-sink-volume @DEFAULT_SINK@ +5%
# bind = ,XF86AudioMute, exec, pactl set-sink-mute @DEFAULT_SINK@ toggle

binde =, XF86AudioRaiseVolume, exec, swayosd-client --output-volume 2 --max-volume 150 & play /usr/share/sounds/freedesktop/stereo/audio-volume-change.oga
binde =, XF86AudioLowerVolume, exec, swayosd-client --output-volume -2 --max-volume 150 & play /usr/share/sounds/freedesktop/stereo/audio-volume-change.oga
binde =, XF86AudioMute, exec, swayosd-client --output-volume mute-toggle & play /usr/share/sounds/freedesktop/stereo/audio-volume-change.oga

# Brightness keymaps

# bind = ,XF86MonBrightnessUp, exec, brightnessctl s 5%+
# bind = ,XF86MonBrightnessDown, exec, brightnessctl s 5%-

binde = ,XF86MonBrightnessUp, exec, swayosd-client --brightness raise & play /usr/share/sounds/freedesktop/stereo/message.oga
binde = ,XF86MonBrightnessDown, exec, swayosd-client --brightness lower & play /usr/share/sounds/freedesktop/stereo/message.oga

# binde = SUPER, Control&Zenkaku_Hankaku, exec, swayosd-client --brightness lower & play /usr/share/sounds/freedesktop/stereo/message.oga
#sudo hyprctl keyword 'device[uniw0001:00-093a:0255-touchpad]:enabled' 1

# Print screen keymap
bind = , Print, exec, grim -g "$(slurp -d)" - | wl-copy
